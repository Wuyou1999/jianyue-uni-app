(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-userinfo-newpsd"],{"0b45":function(e,t,a){"use strict";var n=a("cf8f"),i=a.n(n);i.a},"10b5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-input",{staticClass:"uni-input",attrs:{password:"",type:"text",placeholder:"请输入新密码",required:"required"},model:{value:e.repassword,callback:function(t){e.repassword=t},expression:"repassword"}}),a("v-uni-input",{staticClass:"uni-input",attrs:{password:"",type:"text",placeholder:"确认密码",required:"required"},model:{value:e.repassword,callback:function(t){e.repassword=t},expression:"repassword"}}),a("v-uni-button",{attrs:{type:"primary"},on:{click:function(t){t=e.$handleEvent(t),e.updateUser(e.repassword)}}},[e._v("确认")])],1)},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},"3f48":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".card[data-v-c4deba2c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border:none;margin-left:40px;margin-top:80px;margin-bottom:23px;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}uni-input[data-v-c4deba2c]{height:50px;border-bottom:1px solid #eee;margin-bottom:5px}",""])},"927c":function(e,t,a){"use strict";a.r(t);var n=a("10b5"),i=a("e537");for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);a("0b45");var o=a("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"c4deba2c",null);t["default"]=s.exports},b13d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{nickname:uni.getStorageSync("login_key").nickname,avatar:uni.getStorageSync("login_key").avatar,userId:uni.getStorageSync("login_key").userId}},onLoad:function(){uni.setNavigationBarTitle({title:"密码修改"})},methods:{updateUser:function(e){var t=this;uni.showLoading({title:"正在修改"});var a=this;uni.request({url:this.apiServer+"/user/password?id="+uni.getStorageSync("login_key").userId,method:"put",data:e,header:{"content-type":"application/json"},success:function(e){console.log("save"),uni.request({url:t.apiServer+"/user/"+uni.getStorageSync("login_key").userId,method:"GET",data:{userId:a.userId},header:{"content-type":"application/json"},success:function(e){console.log("save2"),0==e.data.code&&(uni.setStorageSync("login_key",{userId:e.data.data.id,nickname:e.data.data.nickname,avatar:e.data.data.avatar,token:e.data.data.token,credit:e.data.data.credit,login:!0}),uni.hideLoading(),uni.showToast({title:"修改成功！",duration:2500}),console.log("log out"),uni.removeStorageSync("login_key"),uni.showToast({title:"请重新登录",duration:2500}),uni.navigateTo({url:"../signin/signin"}))}})}})}}};t.default=n},cf8f:function(e,t,a){var n=a("3f48");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("83e3e3a0",n,!0,{sourceMap:!1,shadowMode:!1})},e537:function(e,t,a){"use strict";a.r(t);var n=a("b13d"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=i.a}}]);